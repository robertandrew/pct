!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("d3-color")):"function"==typeof define&&define.amd?define(["exports","d3-color"],n):n(t.d3_interpolate={},t.d3_color)}(this,function(t,n){"use strict";function r(t){return function(){return t}}function e(t,n){return function(r){return t+r*n}}function o(t,n,r){return t=Math.pow(t,r),n=Math.pow(n,r)-t,r=1/r,function(e){return Math.pow(t+e*n,r)}}function u(t,n){var o=n-t;return o?e(t,o>180||-180>o?o-360*Math.round(o/360):o):r(isNaN(t)?n:t)}function i(t){return 1===(t=+t)?a:function(n,e){return e-n?o(n,e,t):r(isNaN(n)?e:n)}}function a(t,n){var o=n-t;return o?e(t,o):r(isNaN(t)?n:t)}function c(t,n){var r,e=[],o=[],u=t?t.length:0,i=n?n.length:0,a=Math.min(u,i);for(r=0;a>r;++r)e.push(y(t[r],n[r]));for(;u>r;++r)o[r]=t[r];for(;i>r;++r)o[r]=n[r];return function(t){for(r=0;a>r;++r)o[r]=e[r](t);return o}}function l(t,n){return t=+t,n-=t,function(r){return t+n*r}}function f(t,n){var r,e={},o={};(null===t||"object"!=typeof t)&&(t={}),(null===n||"object"!=typeof n)&&(n={});for(r in t)r in n?e[r]=y(t[r],n[r]):o[r]=t[r];for(r in n)r in t||(o[r]=n[r]);return function(t){for(r in e)o[r]=e[r](t);return o}}function s(t){return function(){return t}}function h(t){return function(n){return t(n)+""}}function p(t,n){var r,e,o,u=_.lastIndex=O.lastIndex=0,i=-1,a=[],c=[];for(t+="",n+="";(r=_.exec(t))&&(e=O.exec(n));)(o=e.index)>u&&(o=n.slice(u,o),a[i]?a[i]+=o:a[++i]=o),(r=r[0])===(e=e[0])?a[i]?a[i]+=e:a[++i]=e:(a[++i]=null,c.push({i:i,x:l(r,e)})),u=O.lastIndex;return u<n.length&&(o=n.slice(u),a[i]?a[i]+=o:a[++i]=o),a.length<2?c[0]?h(c[0].x):s(n):(n=c.length,function(t){for(var r,e=0;n>e;++e)a[(r=c[e]).i]=r.x(t);return a.join("")})}function y(t,n){for(var r,e=P.length;--e>=0&&!(r=P[e](t,n)););return r}function g(t,n){return t=+t,n-=t,function(r){return Math.round(t+n*r)}}function x(t){T||(T=document.createElementNS("http://www.w3.org/2000/svg","g")),t&&(T.setAttribute("transform",t),n=T.transform.baseVal.consolidate());var n,r=n?n.matrix:V,e=[r.a,r.b],o=[r.c,r.d],u=b(e),i=v(e,o),a=b(d(o,e,-i))||0;e[0]*o[1]<o[0]*e[1]&&(e[0]*=-1,e[1]*=-1,u*=-1,i*=-1),this.rotate=(u?Math.atan2(e[1],e[0]):Math.atan2(-o[0],o[1]))*Q,this.translate=[r.e,r.f],this.scale=[u,a],this.skew=a?Math.atan2(i,a)*Q:0}function v(t,n){return t[0]*n[0]+t[1]*n[1]}function b(t){var n=Math.sqrt(v(t,t));return n&&(t[0]/=n,t[1]/=n),n}function d(t,n,r){return t[0]+=r*n[0],t[1]+=r*n[1],t}function M(t){return t.length?t.pop()+",":""}function m(t,n,r,e){if(t[0]!==n[0]||t[1]!==n[1]){var o=r.push("translate(",null,",",null,")");e.push({i:o-4,x:l(t[0],n[0])},{i:o-2,x:l(t[1],n[1])})}else(n[0]||n[1])&&r.push("translate("+n+")")}function w(t,n,r,e){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),e.push({i:r.push(M(r)+"rotate(",null,")")-2,x:l(t,n)})):n&&r.push(M(r)+"rotate("+n+")")}function N(t,n,r,e){t!==n?e.push({i:r.push(M(r)+"skewX(",null,")")-2,x:l(t,n)}):n&&r.push(M(r)+"skewX("+n+")")}function j(t,n,r,e){if(t[0]!==n[0]||t[1]!==n[1]){var o=r.push(M(r)+"scale(",null,",",null,")");e.push({i:o-4,x:l(t[0],n[0])},{i:o-2,x:l(t[1],n[1])})}else(1!==n[0]||1!==n[1])&&r.push(M(r)+"scale("+n+")")}function k(t,n){var r=[],e=[];return t=new x(t),n=new x(n),m(t.translate,n.translate,r,e),w(t.rotate,n.rotate,r,e),N(t.skew,n.skew,r,e),j(t.scale,n.scale,r,e),t=n=null,function(t){for(var n,o=-1,u=e.length;++o<u;)r[(n=e[o]).i]=n.x(t);return r.join("")}}function q(t){return((t=Math.exp(t))+1/t)/2}function A(t){return((t=Math.exp(t))-1/t)/2}function H(t){return((t=Math.exp(2*t))-1)/(t+1)}function I(t,n){var r,e,o=t[0],u=t[1],i=t[2],a=n[0],c=n[1],l=n[2],f=a-o,s=c-u,h=f*f+s*s;if(D>h)e=Math.log(l/i)/Z,r=function(t){return[o+t*f,u+t*s,i*Math.exp(Z*t*e)]};else{var p=Math.sqrt(h),y=(l*l-i*i+B*h)/(2*i*z*p),g=(l*l-i*i-B*h)/(2*l*z*p),x=Math.log(Math.sqrt(y*y+1)-y),v=Math.log(Math.sqrt(g*g+1)-g);e=(v-x)/Z,r=function(t){var n=t*e,r=q(x),a=i/(z*p)*(r*H(Z*n+x)-A(x));return[o+a*f,u+a*s,i*r/q(Z*n+x)]}}return r.duration=1e3*e,r}function L(t,r){var e=u((t=n.hsl(t)).h,(r=n.hsl(r)).h),o=a(t.s,r.s),i=a(t.l,r.l),c=a(t.opacity,r.opacity);return function(n){return t.h=e(n),t.s=o(n),t.l=i(n),t.opacity=c(n),t+""}}function R(t,r){var e=a((t=n.hsl(t)).h,(r=n.hsl(r)).h),o=a(t.s,r.s),u=a(t.l,r.l),i=a(t.opacity,r.opacity);return function(n){return t.h=e(n),t.s=o(n),t.l=u(n),t.opacity=i(n),t+""}}function E(t,r){var e=a((t=n.lab(t)).l,(r=n.lab(r)).l),o=a(t.a,r.a),u=a(t.b,r.b),i=a(t.opacity,r.opacity);return function(n){return t.l=e(n),t.a=o(n),t.b=u(n),t.opacity=i(n),t+""}}function S(t,r){var e=u((t=n.hcl(t)).h,(r=n.hcl(r)).h),o=a(t.c,r.c),i=a(t.l,r.l),c=a(t.opacity,r.opacity);return function(n){return t.h=e(n),t.c=o(n),t.l=i(n),t.opacity=c(n),t+""}}function C(t,r){var e=a((t=n.hcl(t)).h,(r=n.hcl(r)).h),o=a(t.c,r.c),u=a(t.l,r.l),i=a(t.opacity,r.opacity);return function(n){return t.h=e(n),t.c=o(n),t.l=u(n),t.opacity=i(n),t+""}}var T,X=function K(t){function r(t,r){var o=e((t=n.rgb(t)).r,(r=n.rgb(r)).r),u=e(t.g,r.g),i=e(t.b,r.b),a=e(t.opacity,r.opacity);return function(n){return t.r=o(n),t.g=u(n),t.b=i(n),t.opacity=a(n),t+""}}var e=i(t);return r.gamma=K,r}(1),_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,O=new RegExp(_.source,"g"),P=[function(t,r){var e,o=typeof r;return("string"===o?(e=n.color(r))?(r=e,X):p:r instanceof n.color?X:Array.isArray(r)?c:"object"===o&&isNaN(r)?f:l)(t,r)}],Q=180/Math.PI,V={a:1,b:0,c:0,d:1,e:0,f:0},Z=Math.SQRT2,z=2,B=4,D=1e-12,F=function U(t){function r(r,e){var o=u((r=n.cubehelix(r)).h,(e=n.cubehelix(e)).h),i=a(r.s,e.s),c=a(r.l,e.l),l=a(r.opacity,e.opacity);return function(n){return r.h=o(n),r.s=i(n),r.l=c(Math.pow(n,t)),r.opacity=l(n),r+""}}return t=+t,r.gamma=U,r}(1),G=function W(t){function r(r,e){var o=a((r=n.cubehelix(r)).h,(e=n.cubehelix(e)).h),u=a(r.s,e.s),i=a(r.l,e.l),c=a(r.opacity,e.opacity);return function(n){return r.h=o(n),r.s=u(n),r.l=i(Math.pow(n,t)),r.opacity=c(n),r+""}}return t=+t,r.gamma=W,r}(1),J="0.5.2";t.version=J,t.interpolate=y,t.interpolators=P,t.interpolateArray=c,t.interpolateNumber=l,t.interpolateObject=f,t.interpolateRound=g,t.interpolateString=p,t.interpolateTransform=k,t.interpolateZoom=I,t.interpolateRgb=X,t.interpolateHsl=L,t.interpolateHslLong=R,t.interpolateLab=E,t.interpolateHcl=S,t.interpolateHclLong=C,t.interpolateCubehelix=F,t.interpolateCubehelixLong=G});